<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>airoViz</title>

		<!-- Libs -->
		<script type="text/javascript" src="../lib/jquery/jquery-2.1.0.min.js"></script>
		<!-- // <script type="text/javascript" 	src="//cdn.jsdelivr.net/pouchdb/2.2.3/pouchdb.min.js"></script> -->
		<script type="text/javascript" 	src="../lib/pouchdb/pouchdb.min.js"></script>
		<script type="text/javascript" 	src="../lib/dat-gui/dat.gui.min.js"></script>
		<script type="text/javascript" src="../lib/d3/d3.js"></script>
		<!-- // <script type="text/javascript" src="../lib/underscore/underscore-min.js"></script> -->
		<!-- // <script src="../lib/lodash/lodash.js"></script> -->
		<script type="text/javascript" src="../lib/colorbrewer/colorBrewer.js"></script>


		<!-- Src -->
		<script type="text/javascript" src="../js/gui.js"></script>
		<script type="text/javascript" src="../js/utils.js"></script>
		<script type="text/javascript" src="../js/pouch.js"></script>
		<script type="text/javascript" src="../js/graph.js"></script>
		<script type="text/javascript" src="../js/Tooltip.js"></script>

		<link rel="stylesheet" href="css/style.css">
	</head>
	<body>
		<script type="text/javascript">

			var intervalID;
			var myNetwork = null;
		  $(document).ready(function() {

				var params = new Params();
				var gui = new dat.GUI();
				var f1 =  gui.addFolder("Server")
				f1.add(params, 'dbName');
				f1.add(params, 'remoteServer');

				var f2 =  gui.addFolder("Graph")
				f2.add(params, 'layout', [ 'Network', 'Distance' , 'Connections' ]);
				f2.add(params, 'refreshRate', 0, 10);

				var f3 =  gui.addFolder("Time")
				f3.add(params, 'hours', 0, 59);
				f3.add(params, 'minutes', 0, 59);
				f3.add(params, 'seconds', 0, 59);


				app.width = $(window).width();
				app.height=$(window).height();
				wrapper = Pouch();
				wrapper(app.dbName, app.remoteServer);
				time = setUTCDuration(1,0,0);
				myNetwork = Network();
				wrapper.queryByTime(myNetwork,time,true);
				setInterval(myInterval,params.refreshRate * 1000);


			});

			var myInterval = function(){
				time = setUTCDuration(1,0,0);
				console.log("in interval");
				wrapper.queryByTime(myNetwork,time,false);
			}


		</script>
		<div id='vis'></div>
<!--
  	<div id="sync-wrapper">
          <div id="sync-success">Currently syncing</div>
          <div id="sync-error">There was a problem syncing</div>
		</div> -->

	</body>
</html>
